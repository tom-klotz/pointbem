MSMS_PATH = /PETSc3/biology/msms/msms
CFLAGS = -I.

testSrfOnSurfacePoints: testSrfOnSurfacePoints.o surface.o
	${CLINKER} -o $@ $^ ${PETSC_LIB}
	${DSYMUTIL} $@

regression:
	${PETSC_DIR}/config/builder2.py check [testSrfOnSurfacePoints.c,surface.c] --regParams=testParams ${ARGS}

figures:
	./meshConvergence.py ./meshConvSphere.png
	./workPrecision.py ./workPrecSphere.png

#  -y asp.pat -r asp.rad
msp:
	-../../msp/bin/msroll -m ../../jay-asymmetry/saltresidues/asp/asp.pdb -p 0.1 -q asp.pqms -j asp.pnt
	-../../msp/bin/msdraw -i asp.script -r asp.sgi

# https://en.wikipedia.org/wiki/Amino_acid#Table_of_standard_amino_acid_abbreviations_and_properties
srf:
	cd ../../jay-asymmetry/saltresidues/asp; MSMS_PATH=${MSMS_PATH} ../../../fftsvd/meshmaker asp.pdb ../scaled_charmm22.siz asp_scaledcharmm_12.srf 1.4 2.0 12 1 1 0 .
	cd ../../jay-asymmetry/saltresidues/asp; MSMS_PATH=${MSMS_PATH} ../../../fftsvd/meshmaker asp.pdb ../scaled_charmm22.siz asp_scaledcharmm_16.srf 1.4 2.0 16 1 1 0 .
	cd ../../jay-asymmetry/saltresidues/asp; MSMS_PATH=${MSMS_PATH} ../../../fftsvd/meshmaker asp.pdb ../scaled_charmm22.siz asp_scaledcharmm_20.srf 1.4 2.0 20 1 1 0 .
	cd ../../jay-asymmetry/saltresidues/asp; MSMS_PATH=${MSMS_PATH} ../../../fftsvd/meshmaker asp.pdb ../scaled_charmm22.siz asp_scaledcharmm_24.srf 1.4 2.0 24 1 1 0 .
	cd ../../jay-asymmetry/saltresidues/asp; MSMS_PATH=${MSMS_PATH} ../../../fftsvd/meshmaker asp.pdb ../scaled_charmm22.siz asp_scaledcharmm_28.srf 1.4 2.0 28 1 1 0 .
	cd ../../jay-asymmetry/saltresidues/asp; MSMS_PATH=${MSMS_PATH} ../../../fftsvd/meshmaker asp.pdb ../scaled_charmm22.siz asp_scaledcharmm_32.srf 1.4 2.0 32 1 1 0 .

include ${PETSC_DIR}/lib/petsc/conf/variables
include ${PETSC_DIR}/lib/petsc/conf/rules
